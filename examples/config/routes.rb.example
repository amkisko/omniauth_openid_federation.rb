# Example routes.rb showing how to mount the federation endpoint
Rails.application.routes.draw do
  # Mount OpenID Federation engine early to ensure well-known routes are registered before catch-all routes
  # This enables the /.well-known/openid-federation endpoint
  if OpenIdConnectConfig.enabled?
    mount OmniauthOpenidFederation::Engine => "/"
  end

  # Your other routes...
  devise_for :users, controllers: {
    omniauth_callbacks: "users/omniauth_callbacks"
  }

  # ... rest of your routes ...
end

